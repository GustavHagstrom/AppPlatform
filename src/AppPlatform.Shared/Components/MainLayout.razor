@using AppPlatform.Shared.Constants
@using AppPlatform.Shared.Abstractions

@inherits LayoutComponentBase


<MudDialogProvider />
<MudSnackbarProvider />
<PageTitle>@($"{CommonAppConstants.ApplicationName} {CommonAppConstants.ApplicationVersion}")</PageTitle>



<MudLayout Style="height: 100vh">
    <MudAppBar Elevation="3" Dense="true" DisableGutters="true">



        <AppNavLink Href="" Match="NavLinkMatch.All" Style="height: 100%;" Class="d-flex align-center px-4">
            <MudIcon Icon="@Icons.Material.Sharp.Dashboard" Size="Size.Medium" />
            <MudHidden Breakpoint="Breakpoint.SmAndDown">
                <MudText Inline="true" Class="pl-2">@Localizer["Start"]</MudText>
            </MudHidden>
        </AppNavLink>

        @foreach (var link in ApplicationLinkService.MainLayoutLinks)
        {
            <AuthorizedNavLink Href="@link.LinkRoute" Policy="@link.AuthPolicy" Match="NavLinkMatch.Prefix" Style="height: 100%;" Class="d-flex align-center px-4">
                <MudIcon Icon="@link.Icon" Size="Size.Medium" />
                <MudHidden Breakpoint="Breakpoint.SmAndDown">
                    <MudText Inline="true" Class="pl-2">@link.Text</MudText>
                </MudHidden>
            </AuthorizedNavLink>
        }
        <MudSpacer />
        <LoginDisplay />
    </MudAppBar>

    <MudMainContent Style="height: 100%;">
        @Body
    </MudMainContent>
</MudLayout>

@inject IStringLocalizer<MainLayout> Localizer
@inject IApplicationLinkService ApplicationLinkService

