@using MudBlazor.Services
@inherits LayoutComponentBase
@layout MainLayout

@inject IStringLocalizer<SettingsLayout> Localizer
@inject IApplicationLinkService ApplicationLinkService
<PageSetupWithNavigation MobileBreakpoint="Breakpoint.SmAndDown" DesktopBreakpoint="Breakpoint.LgAndUp">
    <NavigationContent>

        <AppNavLink Href="@SharedRoutes.Start" Match="NavLinkMatch.All" Class="d-flex align-center pa-4">
            <MudIcon Icon="@Icons.Material.Sharp.Settings" Size="Size.Medium" />
            <MudHidden Breakpoint="Breakpoint.SmAndDown">
                <MudText Inline="true" Class="pl-2">@Localizer["Allmänt"]</MudText>
            </MudHidden>
        </AppNavLink> 

        @foreach (var link in ApplicationLinkService.SettingsPageLinks)
        {

            <AuthorizedNavLink Href="@link.LinkRoute" Policy="@link.AuthPolicy" Match="NavLinkMatch.Prefix" Class="d-flex align-center pa-4">
                <MudIcon Icon="@link.Icon"Size="Size.Medium" />
                <MudHidden Breakpoint="Breakpoint.SmAndDown">
                    <MudText Inline="true" Class="pl-2">@link.Text</MudText>
                </MudHidden>
            </AuthorizedNavLink>
        }

    </NavigationContent>
    <ChildContent>
        @Body
    </ChildContent>
</PageSetupWithNavigation>
