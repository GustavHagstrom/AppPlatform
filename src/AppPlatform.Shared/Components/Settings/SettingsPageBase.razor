<div style="height: calc(var(--mud-appbar-height) - var(--mud-appbar-height)/4);">
    <MudText Typo="Typo.h6" Style="font-weight: bold;">@Title</MudText>
</div>
    <div class="relative" style="height: calc(100% - var(--mud-appbar-height) + var(--mud-appbar-height)/4);">
        <MudOverlay DarkBackground="true" Visible="SettingSections.Any(x => x.IsLoading)" Absolute="true">
        <MudProgressCircular Size="Size.Large" Color="Color.Primary" Indeterminate="true" />
    </MudOverlay>
    <div style="display: flex; height: 100%">
        <div style="display: flex; flex-direction: column; padding-top: 8px;">
            <CascadingValue Value="this">
                @ChildContent
            </CascadingValue>
        </div>
    </div>
</div>
@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string Title { get; set; } = string.Empty;
    List<SettingsSection> SettingSections { get; set; } = new();

    public void RegisterSettingsSection(SettingsSection section)
    {
        SettingSections.Add(section);
        section.IsLoadingChanged = StateHasChanged;
    }
}
