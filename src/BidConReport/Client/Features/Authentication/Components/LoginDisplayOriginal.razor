<AuthorizeView>
    <Authorized>
        <MudButton OnClick="ToggleOpen" Class="px-3 align-self-stretch" Style="min-width: 20px">
            <MudAvatar Class="align-self-center align-content-center" Style="@($"height: 35px; width: 35px; background-color: {Theme.Palette.PrimaryLighten}")">
                @if (!string.IsNullOrEmpty(PhotoString))
                {
                    <img src="@PhotoString" style="height:35px; width:35px;" class="align-self-center" />
                }
                else
                {
                    <MudText Typo="Typo.h6" Class="align-self-center" Style="font-size: 1rem">@GetInitials(context.User.Identity?.Name)</MudText>
                }
                
            </MudAvatar>
        </MudButton>
    <MudPopover Open="IsOpen" AnchorOrigin="Origin.BottomRight" TransformOrigin="Origin.TopRight">
        <MudButton OnClick="BeginLogOut" Variant="Variant.Text">Log out</MudButton>
    </MudPopover>
    </Authorized>
    <NotAuthorized>
        <MudButton Variant="Variant.Text" Href="authentication/login">Log in</MudButton>
    </NotAuthorized>
</AuthorizeView>

