<MudForm Model="Settings" @ref="Form" Style="overflow-y: scroll" Class="pa-6">
    <MudStack Spacing="2">
        
        <ImportSettingsStringPropertyItem Label="@Localizer["Namn"]" Value="@Settings.Name" ReadOnly="!EditMode" />
        <ImportSettingsStringPropertyItem Label="@Localizer["Kontokod - A-pris faktor"]" Value="@Settings.Name" ReadOnly="!EditMode" />
        <ImportSettingsStringPropertyItem Label="@Localizer["Kontokod - Nettokalkyl"]" Value="@Settings.Name" ReadOnly="!EditMode" />
        <ImportSettingsStringPropertyItem Label="@Localizer["Kontokod - Försäljningspris"]" Value="@Settings.Name" ReadOnly="!EditMode" />
        <ImportSettingsStringPropertyItem Label="@Localizer["Tagg för dolda rader"]" Value="@Settings.Name" ReadOnly="!EditMode" />
        <ImportSettingsStringPropertyItem Label="@Localizer["Tagg för dold enhet"]" Value="@Settings.Name" ReadOnly="!EditMode" />

        <MudSwitch Class="py-2" @bind-Checked="Settings.UseRevisionAsSelectionTags" Label="@Localizer["Revision som valtagg"]" Color="Color.Primary" />

        <MudField Label="@Localizer["Valtaggar"]" Variant="Variant.Outlined">
            @foreach (var tagg in Settings.SelectionTags)
            {
                <ImportSettingsTaggItem Tagg="@tagg" />
            }
            <ImportSettingsAddTaggItem/>
        </MudField>

        <MudField Label="@Localizer["Snabbtaggar"]" Variant="Variant.Outlined">
            @foreach (var tagg in Settings.SelectionTags)
            {
                <ImportSettingsTaggItem Tagg="@tagg"/>
            }
            <ImportSettingsAddTaggItem />
        </MudField>
    </MudStack>
</MudForm>


@code{

    [Inject] public required IStringLocalizer<ImportSettingsEditor> Localizer { get; set; }
    [Inject] public required ISnackbar Snackbar { get; set; }
    [Parameter] public bool EditMode { get; set; } = true;
    [Parameter, EditorRequired] public required EstimationImportSettings Settings { get; set; }
    [Parameter] public EventCallback OnSave { get; set; }

    [Inject] public required IImportSettingsService ImportSettingsService { get; set; }
    public MudForm? Form { get; set; }

    
}