@page "/settings"
@inject IStringLocalizer<CommonPage> Localizer

<SettingsPage Title="@Localizer["Allmänt"]" Loading="Loading">
    <SettingsSection Title="@Localizer["Utseende"]">
        <MudSwitch T="bool?" Checked="DarkModeManager?.IsDarkMode" CheckedChanged="SetDarkMode" Color="Color.Primary" Label="@Localizer["Mörkt tema"]" />
    </SettingsSection>
</SettingsPage>
    
    


@code {
    [CascadingParameter] public DarkModeManager? DarkModeManager { get; set; }

    bool Loading = false;

    async Task SetDarkMode(bool? value)
    {
        if (DarkModeManager is not null && value is not null)
        {
            await DarkModeManager.SetDarkModeAsync(value.Value);
        }
    }
   
}
